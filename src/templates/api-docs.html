<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation | paulocadias.com</title>
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='15' fill='%232563eb'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>MD</text></svg>">
    <link rel="stylesheet" href="/static/style.css">
    <style>
        /* Dark theme overrides for API docs */
        :root {
            --bg: #0f172a;
            --surface: #1e293b;
            --text: #f1f5f9;
            --text-light: #94a3b8;
            --border: #334155;
            --warning: #f59e0b;
        }

        .app-container {
            max-width: 900px;
        }

        /* Branded header nav */
        .site-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .site-header a {
            text-decoration: none;
        }

        .site-header .brand-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text);
        }

        .site-header .brand-logo {
            width: 36px;
            height: 36px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .site-header .brand-name {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .site-header nav {
            display: flex;
            gap: 1.5rem;
            background: none;
            border: none;
            padding: 0;
            margin: 0;
            border-radius: 0;
        }

        .site-header nav a {
            color: var(--text-light);
            font-weight: 500;
            padding: 0;
            background: none;
            border-radius: 0;
        }

        .site-header nav a:hover,
        .site-header nav a.active {
            color: var(--primary);
            background: none;
        }

        /* Page header */
        .page-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .brand {
            color: var(--primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        h1 {
            font-size: 2.5rem;
            margin: 0.5rem 0;
        }

        .subtitle {
            color: var(--muted);
            font-size: 1.1rem;
        }

        .version {
            background: var(--primary);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 1rem;
            display: inline-block;
        }

        /* Quick Links Navigation */
        .quick-links {
            background: var(--card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .quick-links h3 {
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--muted);
            text-transform: uppercase;
        }

        .quick-links ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .quick-links a {
            color: var(--primary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            background: rgba(37, 99, 235, 0.1);
            font-size: 0.9rem;
        }

        .quick-links a:hover {
            background: rgba(37, 99, 235, 0.2);
        }

        /* Sections */
        section {
            background: var(--card);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        h3 {
            font-size: 1.1rem;
            margin: 1.5rem 0 1rem;
        }

        /* Method badges */
        .method {
            display: inline-block;
            padding: 0.35rem 0.75rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.8rem;
            margin-right: 0.75rem;
        }

        .method.get {
            background: var(--success);
            color: white;
        }

        .method.post {
            background: var(--primary);
            color: white;
        }

        .method.delete {
            background: var(--error);
            color: white;
        }

        .endpoint {
            font-family: 'Monaco', monospace;
            color: #58a6ff;
            font-size: 1rem;
        }

        /* Code blocks */
        pre {
            background: var(--code-bg);
            border-radius: 8px;
            padding: 1.25rem;
            overflow-x: auto;
            margin: 1rem 0;
            font-size: 0.85rem;
            border: 1px solid var(--border);
        }

        code {
            font-family: 'Monaco', 'Menlo', monospace;
            color: #e6edf3;
        }

        .comment {
            color: #8b949e;
        }

        .string {
            color: #a5d6ff;
        }

        .keyword {
            color: #ff7b72;
        }

        .number {
            color: #79c0ff;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th,
        td {
            text-align: left;
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        th {
            color: var(--muted);
            font-weight: 500;
            font-size: 0.85rem;
            text-transform: uppercase;
        }

        td code {
            background: var(--code-bg);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        /* Response codes */
        .response-code {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .response-code.success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .response-code.error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }

        .response-code.warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        /* Try it section */
        .try-it {
            background: var(--code-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .try-it h4 {
            margin-bottom: 1rem;
            color: var(--muted);
        }

        .try-it input,
        .try-it button {
            padding: 0.75rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .try-it input {
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text);
            width: 100%;
            margin-bottom: 1rem;
        }

        .try-it button {
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            margin-right: 0.5rem;
        }

        .try-it button:hover {
            background: #1d4ed8;
        }

        #result {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--card);
            border-radius: 6px;
            font-family: monospace;
            white-space: pre-wrap;
            display: none;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--muted);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
        }
    </style>
</head>

<body>
    <!-- Global Header - Outside container for consistent positioning -->
    <div class="site-header-wrapper">
        <header class="site-header">
            <a href="/" class="logo-link">
                <div class="logo-icon">MD</div>
                <span class="logo-text">MegaDoc</span>
            </a>
            <nav>
                <a href="/">Convert</a>
                <a href="/rag">RAG Pipeline</a>
                <a href="/compare">Compare</a>
                <a href="/architecture">Architecture</a>
                <a href="/use-cases">Use Cases</a>
                <a href="/api/docs" class="active">API</a>
                <a href="/contact">Contact</a>
            </nav>
        </header>
    </div>

    <div class="app-container">
        <div class="page-header">
            <h1>API Documentation</h1>
            <p class="subtitle">Document to Markdown Conversion API</p>
            <span class="version">v1.0.0</span>
        </div>

        <nav class="quick-links">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#authentication">Authentication</a></li>
                <li><a href="#security-architecture">Security</a></li>
                <li><a href="#convert">Convert</a></li>
                <li><a href="#analyze">Analyze</a></li>
                <li><a href="#chunk">Chunk</a></li>
                <li><a href="#compare">Compare</a></li>
                <li><a href="#embed">Embeddings</a></li>
                <li><a href="#export">Export</a></li>
                <li><a href="#pipeline">Pipeline</a></li>
                <li><a href="#formats">Formats</a></li>
                <li><a href="#stats">Statistics</a></li>
                <li><a href="#errors">Errors</a></li>
                <li><a href="#rate-limits">Limits</a></li>
            </ul>
        </nav>

        <section id="overview">
            <h2>Overview</h2>
            <p>Complete document processing API for RAG pipelines and AI applications.
                Convert, analyze, chunk, embed, and export documents—all with zero data retention.</p>

            <h3>Base URL</h3>
            <pre><code>{{ base_url }}</code></pre>

            <h3>Features</h3>
            <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                <li>Convert PDF, Word, Excel, PowerPoint to Markdown</li>
                <li>Document analysis with structure detection</li>
                <li>Semantic chunking with token counting</li>
                <li>Embeddings generation (all-MiniLM-L6-v2)</li>
                <li>Export to ChromaDB, LanceDB, JSONL</li>
                <li>Full RAG pipeline in one API call</li>
                <li>Zero data retention—files deleted instantly</li>
            </ul>
        </section>

        <section id="authentication">
            <h2>Authentication</h2>
            <p>The public API endpoints do not require authentication. Rate limiting is applied per IP address.</p>
            <p style="margin-top: 1rem; color: var(--warning);">
                For high-volume usage, contact us for API key access.
            </p>
        </section>

        <section id="security-architecture">
            <h2>Security Architecture</h2>
            <p>The API is built with a "Secure by Design" philosophy, implementing defense-in-depth controls to protect
                user data and system integrity.</p>

            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                <div
                    style="background: var(--surface); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                    <h4 style="margin-top: 0; color: var(--primary);">Zero Data Retention (ZDR)</h4>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 0;">
                        Files are processed in ephemeral memory and deleted immediately after conversion. We do not
                        store, log, or train on your document content.
                    </p>
                </div>
                <div
                    style="background: var(--surface); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                    <h4 style="margin-top: 0; color: var(--primary);">Input Validation</h4>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 0;">
                        Strict magic byte verification prevents file type spoofing. Filenames are sanitized, and size
                        limits are enforced at the edge and application level.
                    </p>
                </div>
                <div
                    style="background: var(--surface); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                    <h4 style="margin-top: 0; color: var(--primary);">Defense in Depth</h4>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 0;">
                        Protected by Cloudflare WAF, OS-level firewalls (UFW), Fail2Ban brute-force protection, and
                        application-level rate limiting.
                    </p>
                </div>
            </div>
        </section>

        <section id="convert">
            <h2>Convert File</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/convert</span></h3>
            <p>Convert a document file to Markdown format.</p>

            <h3>Request</h3>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>file</code></td>
                    <td>File</td>
                    <td>Yes</td>
                    <td>The document to convert (multipart/form-data)</td>
                </tr>
            </table>

            <h3>Headers</h3>
            <table>
                <tr>
                    <th>Header</th>
                    <th>Value</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>Content-Type</code></td>
                    <td>multipart/form-data</td>
                    <td>Required for file upload</td>
                </tr>
                <tr>
                    <td><code>X-API-Key</code></td>
                    <td>string</td>
                    <td>Optional API key for higher limits</td>
                </tr>
            </table>

            <h3>Example Request (cURL)</h3>
            <pre><code><span class="keyword">curl</span> -X POST {{ base_url }}/api/convert \
  -F <span class="string">"file=@document.pdf"</span></code></pre>

            <h3>Example Request (Python)</h3>
            <pre><code><span class="keyword">import</span> requests

url = <span class="string">"{{ base_url }}/api/convert"</span>
files = {<span class="string">'file'</span>: open(<span class="string">'document.pdf'</span>, <span class="string">'rb'</span>)}

response = requests.post(url, files=files)
data = response.json()

<span class="keyword">if</span> data[<span class="string">'success'</span>]:
    <span class="keyword">print</span>(data[<span class="string">'content'</span>])  <span class="comment"># Markdown content</span></code></pre>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"filename"</span>: <span class="string">"document.md"</span>,
  <span class="string">"content"</span>: <span class="string">"# Document Title\n\nContent here..."</span>,
  <span class="string">"request_id"</span>: <span class="string">"A1B2C3D4"</span>
}</code></pre>

            <h3>Response Codes</h3>
            <table>
                <tr>
                    <th>Code</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><span class="response-code success">200</span></td>
                    <td>Success - Returns converted markdown</td>
                </tr>
                <tr>
                    <td><span class="response-code error">400</span></td>
                    <td>Bad Request - Invalid file or missing parameters</td>
                </tr>
                <tr>
                    <td><span class="response-code error">413</span></td>
                    <td>File Too Large - Max 50MB</td>
                </tr>
                <tr>
                    <td><span class="response-code warning">429</span></td>
                    <td>Rate Limit Exceeded</td>
                </tr>
                <tr>
                    <td><span class="response-code error">500</span></td>
                    <td>Server Error - Conversion failed</td>
                </tr>
            </table>
        </section>

        <section id="analyze">
            <h2>Document Analysis</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/analyze</span></h3>
            <p>Analyze document structure, detect headings, tables, and get content statistics.</p>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"analysis"</span>: {
    <span class="string">"structure"</span>: {
      <span class="string">"headings"</span>: [<span class="string">"# Title"</span>, <span class="string">"## Section 1"</span>],
      <span class="string">"tables"</span>: <span class="number">2</span>,
      <span class="string">"lists"</span>: <span class="number">5</span>,
      <span class="string">"code_blocks"</span>: <span class="number">1</span>
    },
    <span class="string">"metrics"</span>: {
      <span class="string">"word_count"</span>: <span class="number">1250</span>,
      <span class="string">"char_count"</span>: <span class="number">7840</span>,
      <span class="string">"line_count"</span>: <span class="number">156</span>,
      <span class="string">"token_estimate"</span>: <span class="number">1680</span>
    }
  }
}</code></pre>
        </section>

        <section id="chunk">
            <h2>RAG Chunking</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/chunk</span></h3>
            <p>Split document into semantic chunks for RAG pipelines with token counting.</p>

            <h3>Parameters</h3>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>file</code></td>
                    <td>File</td>
                    <td>-</td>
                    <td>Document to chunk</td>
                </tr>
                <tr>
                    <td><code>chunk_size</code></td>
                    <td>int</td>
                    <td>500</td>
                    <td>Target tokens per chunk</td>
                </tr>
                <tr>
                    <td><code>overlap</code></td>
                    <td>int</td>
                    <td>50</td>
                    <td>Overlap tokens between chunks</td>
                </tr>
            </table>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"chunks"</span>: [
    {<span class="string">"id"</span>: <span class="number">0</span>, <span class="string">"text"</span>: <span class="string">"..."</span>, <span class="string">"tokens"</span>: <span class="number">485</span>},
    {<span class="string">"id"</span>: <span class="number">1</span>, <span class="string">"text"</span>: <span class="string">"..."</span>, <span class="string">"tokens"</span>: <span class="number">512</span>}
  ],
  <span class="string">"total_chunks"</span>: <span class="number">12</span>,
  <span class="string">"total_tokens"</span>: <span class="number">5840</span>
}</code></pre>

            <h3><span class="method post">POST</span><span class="endpoint">/api/token-count</span></h3>
            <p>Count tokens in text using tiktoken (cl100k_base encoding).</p>

            <pre><code><span class="comment"># Request body</span>
{<span class="string">"text"</span>: <span class="string">"Your text to count tokens"</span>}

<span class="comment"># Response</span>
{<span class="string">"token_count"</span>: <span class="number">6</span>, <span class="string">"encoding"</span>: <span class="string">"cl100k_base"</span>}</code></pre>
        </section>

        <section id="compare">
            <h2>Document Comparison</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/compare</span></h3>
            <p>Compare two documents and show differences (unified diff format).</p>

            <h3>Request</h3>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>file1</code></td>
                    <td>File</td>
                    <td>First document</td>
                </tr>
                <tr>
                    <td><code>file2</code></td>
                    <td>File</td>
                    <td>Second document</td>
                </tr>
            </table>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"diff"</span>: <span class="string">"--- file1.md\n+++ file2.md\n@@ -1,3 +1,4 @@..."</span>,
  <span class="string">"stats"</span>: {
    <span class="string">"additions"</span>: <span class="number">15</span>,
    <span class="string">"deletions"</span>: <span class="number">8</span>,
    <span class="string">"similarity"</span>: <span class="number">0.85</span>
  }
}</code></pre>
        </section>

        <section id="embed">
            <h2>Embeddings</h2>

            <h3><span class="method get">GET</span><span class="endpoint">/api/embedding-info</span></h3>
            <p>Get information about the embedding system.</p>
            <pre><code>{
  <span class="string">"available"</span>: <span class="keyword">true</span>,
  <span class="string">"model"</span>: <span class="string">"all-MiniLM-L6-v2"</span>,
  <span class="string">"dimensions"</span>: <span class="number">384</span>,
  <span class="string">"description"</span>: <span class="string">"Sentence-BERT embeddings"</span>
}</code></pre>

            <h3><span class="method post">POST</span><span class="endpoint">/api/embed</span></h3>
            <p>Generate embeddings for text or document chunks.</p>

            <h3>Request Body</h3>
            <pre><code>{
  <span class="string">"texts"</span>: [<span class="string">"First chunk..."</span>, <span class="string">"Second chunk..."</span>]
}</code></pre>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"embeddings"</span>: [
    {<span class="string">"embedding"</span>: [<span class="number">0.123</span>, ...], <span class="string">"dimensions"</span>: <span class="number">384</span>}
  ],
  <span class="string">"model"</span>: <span class="string">"all-MiniLM-L6-v2"</span>
}</code></pre>
        </section>

        <section id="export">
            <h2>Export Formats</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/export/jsonl</span></h3>
            <p>Export document chunks as JSONL (one JSON object per line).</p>
            <pre><code><span class="comment"># Response (text/plain)</span>
{<span class="string">"id"</span>:<span class="number">0</span>,<span class="string">"text"</span>:<span class="string">"..."</span>,<span class="string">"tokens"</span>:<span class="number">485</span>}
{<span class="string">"id"</span>:<span class="number">1</span>,<span class="string">"text"</span>:<span class="string">"..."</span>,<span class="string">"tokens"</span>:<span class="number">512</span>}</code></pre>

            <h3><span class="method post">POST</span><span class="endpoint">/api/export/vectordb</span></h3>
            <p>Export chunks in vector database ready format.</p>

            <h3>Parameters</h3>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>format</code></td>
                    <td>string</td>
                    <td>chromadb</td>
                    <td>Export format: chromadb, lancedb</td>
                </tr>
                <tr>
                    <td><code>collection</code></td>
                    <td>string</td>
                    <td>documents</td>
                    <td>Collection/table name</td>
                </tr>
            </table>

            <h3>ChromaDB Format</h3>
            <pre><code>{
  <span class="string">"collection_name"</span>: <span class="string">"documents"</span>,
  <span class="string">"ids"</span>: [<span class="string">"chunk_0"</span>, <span class="string">"chunk_1"</span>],
  <span class="string">"embeddings"</span>: [[<span class="number">0.123</span>, ...], [<span class="number">0.456</span>, ...]],
  <span class="string">"documents"</span>: [<span class="string">"..."</span>, <span class="string">"..."</span>],
  <span class="string">"metadatas"</span>: [{...}, {...}]
}</code></pre>

            <h3>LanceDB Format</h3>
            <pre><code>{
  <span class="string">"table_name"</span>: <span class="string">"documents"</span>,
  <span class="string">"records"</span>: [
    {<span class="string">"id"</span>: <span class="string">"chunk_0"</span>, <span class="string">"text"</span>: <span class="string">"..."</span>, <span class="string">"vector"</span>: [...]}
  ],
  <span class="string">"schema"</span>: {...}
}</code></pre>
        </section>

        <section id="pipeline">
            <h2>Full RAG Pipeline</h2>

            <h3><span class="method post">POST</span><span class="endpoint">/api/pipeline</span></h3>
            <p>Complete RAG preparation in one API call: convert, chunk, embed, and export.</p>

            <h3>Parameters</h3>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>file</code></td>
                    <td>File</td>
                    <td>-</td>
                    <td>Document to process</td>
                </tr>
                <tr>
                    <td><code>chunk_size</code></td>
                    <td>int</td>
                    <td>500</td>
                    <td>Target tokens per chunk</td>
                </tr>
                <tr>
                    <td><code>overlap</code></td>
                    <td>int</td>
                    <td>50</td>
                    <td>Overlap between chunks</td>
                </tr>
                <tr>
                    <td><code>export_format</code></td>
                    <td>string</td>
                    <td>chromadb</td>
                    <td>chromadb, lancedb, or jsonl</td>
                </tr>
            </table>

            <h3>Example (Python)</h3>
            <pre><code><span class="keyword">import</span> requests

response = requests.post(
    <span class="string">"{{ base_url }}/api/pipeline"</span>,
    files={<span class="string">"file"</span>: open(<span class="string">"document.pdf"</span>, <span class="string">"rb"</span>)},
    data={
        <span class="string">"chunk_size"</span>: <span class="number">500</span>,
        <span class="string">"export_format"</span>: <span class="string">"chromadb"</span>
    }
)

data = response.json()
<span class="comment"># Ready for: collection.add(**data["export"])</span></code></pre>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"pipeline"</span>: {
    <span class="string">"converted"</span>: <span class="keyword">true</span>,
    <span class="string">"chunked"</span>: <span class="keyword">true</span>,
    <span class="string">"embedded"</span>: <span class="keyword">true</span>,
    <span class="string">"export_format"</span>: <span class="string">"chromadb"</span>
  },
  <span class="string">"stats"</span>: {
    <span class="string">"chunks"</span>: <span class="number">12</span>,
    <span class="string">"total_tokens"</span>: <span class="number">5840</span>
  },
  <span class="string">"export"</span>: {<span class="comment">/* ChromaDB/LanceDB format */</span>}
}</code></pre>
        </section>

        <section id="formats">
            <h2>Supported Formats</h2>

            <h3><span class="method get">GET</span><span class="endpoint">/api/formats</span></h3>
            <p>Get a list of all supported file formats.</p>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"formats"</span>: [
    <span class="string">".pdf"</span>, <span class="string">".docx"</span>, <span class="string">".doc"</span>, <span class="string">".xlsx"</span>, <span class="string">".xls"</span>,
    <span class="string">".pptx"</span>, <span class="string">".ppt"</span>, <span class="string">".html"</span>, <span class="string">".htm"</span>, <span class="string">".txt"</span>,
    <span class="string">".csv"</span>, <span class="string">".json"</span>, <span class="string">".xml"</span>, <span class="string">".jpg"</span>, <span class="string">".jpeg"</span>,
    <span class="string">".png"</span>, <span class="string">".gif"</span>, <span class="string">".bmp"</span>, <span class="string">".epub"</span>
  ],
  <span class="string">"max_file_size_mb"</span>: <span class="number">50</span>
}</code></pre>
        </section>

        <section id="stats">
            <h2>Statistics</h2>

            <h3><span class="method get">GET</span><span class="endpoint">/api/stats</span></h3>
            <p>Get public statistics about the service.</p>

            <h3>Response</h3>
            <pre><code>{
  <span class="string">"status"</span>: <span class="string">"operational"</span>,
  <span class="string">"statistics"</span>: {
    <span class="string">"conversions"</span>: {
      <span class="string">"total"</span>: <span class="number">1234</span>,
      <span class="string">"today"</span>: <span class="number">56</span>,
      <span class="string">"this_week"</span>: <span class="number">342</span>
    },
    <span class="string">"data_processed"</span>: {
      <span class="string">"formatted"</span>: <span class="string">"1.2 GB"</span>,
      <span class="string">"bytes"</span>: <span class="number">1288490188</span>
    }
  }
}</code></pre>

            <div class="try-it">
                <h4>Try It</h4>
                <button onclick="fetchStats()">Get Statistics</button>
                <div id="result"></div>
            </div>
        </section>

        <section id="errors">
            <h2>Error Handling</h2>
            <p>All error responses follow a consistent format:</p>

            <pre><code>{
  <span class="string">"error"</span>: <span class="string">"Description of the error"</span>,
  <span class="string">"request_id"</span>: <span class="string">"A1B2C3D4"</span>
}</code></pre>

            <h3>Common Errors</h3>
            <table>
                <tr>
                    <th>Error</th>
                    <th>Cause</th>
                    <th>Solution</th>
                </tr>
                <tr>
                    <td>No file provided</td>
                    <td>Missing file in request</td>
                    <td>Include file in form-data</td>
                </tr>
                <tr>
                    <td>File type not supported</td>
                    <td>Invalid file extension</td>
                    <td>Use supported format</td>
                </tr>
                <tr>
                    <td>File too large</td>
                    <td>File exceeds 50MB</td>
                    <td>Reduce file size</td>
                </tr>
                <tr>
                    <td>Rate limit exceeded</td>
                    <td>Too many requests</td>
                    <td>Wait and retry</td>
                </tr>
                <tr>
                    <td>File validation failed</td>
                    <td>File content doesn't match extension</td>
                    <td>Ensure file is valid</td>
                </tr>
            </table>
        </section>

        <section id="rate-limits">
            <h2>Rate Limits</h2>
            <table>
                <tr>
                    <th>Limit Type</th>
                    <th>Value</th>
                    <th>Window</th>
                </tr>
                <tr>
                    <td>Requests per IP</td>
                    <td>20</td>
                    <td>1 minute</td>
                </tr>
                <tr>
                    <td>Max file size</td>
                    <td>50 MB</td>
                    <td>Per request</td>
                </tr>
            </table>

            <h3>Rate Limit Headers</h3>
            <table>
                <tr>
                    <th>Header</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>X-RateLimit-Remaining</code></td>
                    <td>Requests remaining in window</td>
                </tr>
                <tr>
                    <td><code>X-RateLimit-Reset</code></td>
                    <td>Seconds until limit resets</td>
                </tr>
                <tr>
                    <td><code>Retry-After</code></td>
                    <td>Seconds to wait (on 429)</td>
                </tr>
            </table>
        </section>

        <footer>
            <p>&copy; 2025 paulocadias.com</p>
            <p style="margin-top: 0.5rem;">
                <a href="/">Converter</a> | <a href="/admin">Dashboard</a>
            </p>
        </footer>
    </div>

    <script>
        async function fetchStats() {
            const result = document.getElementById('result');
            result.style.display = 'block';
            result.textContent = 'Loading...';

            try {
                const response = await fetch('/api/stats');
                const data = await response.json();
                result.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                result.textContent = 'Error: ' + error.message;
            }
        }
    </script>
</body>

</html>